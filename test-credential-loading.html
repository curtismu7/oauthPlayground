<!DOCTYPE html>
<html>
<head>
    <title>Test Credential Loading</title>
</head>
<body>
    <h1>Test Credential Loading</h1>
    <div id="output"></div>
    
    <script>
        // Test credential loading
        function testCredentialLoading() {
            const output = document.getElementById('output');
            
            // Check if credentials exist in localStorage
            const authzCredentials = localStorage.getItem('authz-flow-credentials');
            const configCredentials = localStorage.getItem('config-credentials');
            
            output.innerHTML = `
                <h2>Credential Storage Test</h2>
                <p><strong>AuthZ Flow Credentials:</strong> ${authzCredentials ? 'Found' : 'Not found'}</p>
                <p><strong>Config Credentials:</strong> ${configCredentials ? 'Found' : 'Not found'}</p>
                
                <h3>AuthZ Flow Credentials:</h3>
                <pre>${authzCredentials ? JSON.stringify(JSON.parse(authzCredentials), null, 2) : 'None'}</pre>
                
                <h3>Config Credentials:</h3>
                <pre>${configCredentials ? JSON.stringify(JSON.parse(configCredentials), null, 2) : 'None'}</pre>
                
                <h3>All localStorage keys:</h3>
                <ul>
                    ${Object.keys(localStorage).map(key => `<li>${key}</li>`).join('')}
                </ul>
            `;
        }
        
        // Run test on load
        testCredentialLoading();
    </script>
</body>
</html>